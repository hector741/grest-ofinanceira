<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Acesso - GestÆo Financeira</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

<style>
*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:'Inter',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
}

:root{
  --bg:#0b1021;
  --panel:#0f172a;
  --card:#0b192f;
  --primary:#7c3aed;
  --primary-strong:#6b21a8;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --stroke:#1f2937;
  --error:#f87171;
}

body{
  min-height:100vh;
  background:radial-gradient(circle at 20% 20%, #1d2c5c 0, transparent 30%), radial-gradient(circle at 80% 10%, #2f0f5f 0, transparent 25%), radial-gradient(circle at 50% 80%, #0b4d6b 0, transparent 30%), var(--bg);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  color:var(--text);
}

.shell{
  width:100%;
  max-width:420px;
  position:relative;
}

.glow{
  position:absolute;
  inset:-40px;
  background:radial-gradient(circle at 30% 30%, rgba(124,58,237,0.28), transparent 45%), radial-gradient(circle at 80% 20%, rgba(59,130,246,0.25), transparent 45%);
  filter:blur(40px);
  z-index:0;
  pointer-events:none;
}

.card{
  position:relative;
  z-index:1;
  background:linear-gradient(140deg, rgba(15,23,42,0.95), rgba(11,25,47,0.95));
  border:1px solid rgba(148,163,184,0.12);
  padding:32px;
  border-radius:18px;
  box-shadow:0 20px 60px rgba(0,0,0,0.35);
  backdrop-filter:blur(10px);
}

.logo{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:22px;
}

.logo .badge{
  width:44px;
  height:44px;
  border-radius:12px;
  background:linear-gradient(135deg, #7c3aed, #2563eb);
  display:grid;
  place-items:center;
  color:#fff;
  font-weight:700;
  letter-spacing:0.5px;
}

.logo .text span{
  display:block;
  line-height:1.2;
}

.logo .text .title{
  font-weight:700;
  font-size:18px;
}

.logo .text .subtitle{
  color:var(--muted);
  font-size:13px;
}

.card h2{
  text-align:left;
  margin-bottom:6px;
  font-size:22px;
}

.subtitle-block{
  color:var(--muted);
  font-size:14px;
  margin-bottom:20px;
}

.form-group{
  margin-bottom:14px;
}

label{
  display:block;
  margin-bottom:6px;
  color:var(--muted);
  font-size:13px;
  letter-spacing:0.1px;
}

input{
  width:100%;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid var(--stroke);
  background:rgba(15,23,42,0.7);
  color:var(--text);
  transition:border-color 0.15s ease, box-shadow 0.15s ease;
}

input:focus{
  outline:none;
  border-color:rgba(124,58,237,0.8);
  box-shadow:0 0 0 3px rgba(124,58,237,0.2);
}

button{
  width:100%;
  padding:12px 14px;
  background:linear-gradient(135deg, var(--primary), var(--primary-strong));
  color:#fff;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:700;
  letter-spacing:0.3px;
  transition:transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
}

button:hover{
  transform:translateY(-1px);
  box-shadow:0 15px 30px rgba(124,58,237,0.35);
  filter:brightness(1.04);
}

button:active{
  transform:translateY(0);
  box-shadow:0 10px 18px rgba(124,58,237,0.25);
}

.switch{
  text-align:center;
  margin-top:18px;
  font-size:14px;
  color:var(--text);
}

.switch button{
  width:auto;
  margin-top:6px;
  padding:10px 14px;
  background:transparent;
  border:1px solid rgba(124,58,237,0.5);
  color:#c4b5fd;
  border-radius:10px;
  box-shadow:none;
}

.switch button:hover{
  transform:none;
  box-shadow:0 8px 16px rgba(124,58,237,0.2);
}

.error{
  color:var(--error);
  font-size:14px;
  text-align:center;
  margin-top:12px;
}
</style>
</head>

<body>

<div class="shell">
  <div class="glow"></div>
  <div class="card">
    <div class="logo">
      <div class="badge">GF</div>
      <div class="text">
        <span class="title">GestÆo Financeira</span>
        <span class="subtitle">Controle em um s¢ lugar</span>
      </div>
    </div>

    <h2 id="titulo">Login</h2>
    <div class="subtitle-block" id="subtitulo">Acesse para acompanhar suas entradas e sa¡das.</div>

    <div class="form-group">
      <label for="email">E-mail</label>
      <input type="email" id="email" placeholder="seu@email.com">
    </div>
    <div class="form-group">
      <label for="senha">Senha</label>
      <input type="password" id="senha" placeholder="********">
    </div>

    <button type="button" onclick="acao()">Entrar</button>

    <div class="switch">
      <div id="texto-switch">NÆo tem conta? Crie agora</div>
      <button type="button" onclick="alternar()">Alternar</button>
    </div>

    <div class="error" id="erro"></div>
  </div>
</div>

<script>
// Firebase
const firebaseConfig = {
  apiKey: "AIzaSyDdFbFNylaD-VvB4BvGDUUvIWK3-0Od-gI",
  authDomain: "login-e-dados.firebaseapp.com",
  projectId: "login-e-dados",
  storageBucket: "login-e-dados.firebasestorage.app",
  messagingSenderId: "1011578048570",
  appId: "1:1011578048570:web:b6fa30b752623afad2e503",
  measurementId: "G-SVC9YSKDLC"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

let modo = "login"; // login | registro

function alternar(){
  const titulo = document.getElementById("titulo");
  const botao = document.querySelector(".card > button");
  const texto = document.getElementById("texto-switch");
  const subtitulo = document.getElementById("subtitulo");
  document.getElementById("erro").innerText = "";

  if(modo === "login"){
    modo = "registro";
    titulo.innerText = "Criar Conta";
    botao.innerText = "Registrar";
    texto.innerText = "J  tem conta? Fa‡a login";
    subtitulo.innerText = "Abra sua conta e comece a organizar seus n£meros.";
  }else{
    modo = "login";
    titulo.innerText = "Login";
    botao.innerText = "Entrar";
    texto.innerText = "NÆo tem conta? Crie agora";
    subtitulo.innerText = "Acesse para acompanhar suas entradas e sa¡das.";
  }
}

function acao(){
  modo === "login" ? login() : registrar();
}

function validarCampos(email, senha){
  const erro = document.getElementById("erro");
  if(!email || !senha){
    erro.innerText = "Preencha todos os campos.";
    return false;
  }
  erro.innerText = "";
  return true;
}

function registrar(){
  const email = document.getElementById("email").value.trim();
  const senha = document.getElementById("senha").value.trim();
  const erro = document.getElementById("erro");

  if(!validarCampos(email, senha)) return;

  auth.createUserWithEmailAndPassword(email, senha)
    .then(()=> window.location.href = "app.html")
    .catch(e=>{
      const map = {
        "auth/email-already-in-use": "Este e-mail ja esta cadastrado.",
        "auth/invalid-email": "E-mail invalido.",
        "auth/weak-password": "Senha fraca. Use pelo menos 6 caracteres."
      };
      erro.innerText = map[e.code] || ("Erro ao registrar: " + (e.message || e.code));
    });
}

function login(){
  const email = document.getElementById("email").value.trim();
  const senha = document.getElementById("senha").value.trim();
  const erro = document.getElementById("erro");

  if(!validarCampos(email, senha)) return;

  auth.signInWithEmailAndPassword(email, senha)
    .then(()=> window.location.href = "app.html")
    .catch(e=>{
      const map = {
        "auth/user-not-found": "E-mail ou senha invalidos.",
        "auth/wrong-password": "E-mail ou senha invalidos.",
        "auth/invalid-credential": "E-mail ou senha invalidos.",
        "auth/invalid-email": "E-mail invalido."
      };
      erro.innerText = map[e.code] || ("Erro ao entrar: " + (e.message || e.code));
    });
}

auth.onAuthStateChanged((user)=>{
  if(user){ window.location.href = "app.html"; }
});
</script>

</body>
</html>

